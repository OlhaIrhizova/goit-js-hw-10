{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nconst datetimePicker = document.querySelector(\"#datetime-picker\");\nconst startButton = document.querySelector(\"button[data-start]\");\nconst day = document.querySelector(\"span[data-days]\");\nconst hour = document.querySelector(\"span[data-hours]\");\nconst minute = document.querySelector(\"span[data-minutes]\");\nconst second = document.querySelector(\"span[data-seconds]\");\n\nlet userSelectedDate = null;\nlet countdownTimer = null;\n\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        const selectedDate = selectedDates[0];\n       \n        if(selectedDate <= new Date() ){\n            startButton.disabled = true;\n\n            iziToast.error({\n            title: 'Error',\n            message: 'Please choose a date in the future',\n            });\n            } else {\n            userSelectedDate = selectedDate;\n            startButton.disabled = false;\n        }\n}\n}\n flatpickr('#datetime-picker', options);\n\n \n\n \n\nfunction convertMs(ms) {\n    \n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  \n    return { days, hours, minutes, seconds };\n  }\n  \n\n  function addLeadingZero(value){\n    return String(value).padStart(2,\"0\");\n  };\n\n  function updateTimer() {\n    const remainingTime = userSelectedDate - new Date();\n    if (remainingTime <= 0) {\n      clearInterval(countdownTimer);\n      day.textContent = '00';\n      hour.textContent = '00';\n      minute.textContent = '00';\n      second.textContent = '00';\n\n      startButton.disabled = false;\n      datetimePicker.disabled = false;\n      iziToast.success({ title: 'Completed', message: 'The countdown has ended!' });\n      return;\n    }\n  const { days, hours, minutes, seconds } = convertMs(remainingTime);\n  day.textContent = addLeadingZero(days);\n  hour.textContent = addLeadingZero(hours);\n  minute.textContent = addLeadingZero(minutes);\n  second.textContent = addLeadingZero(seconds);\n}\n\n  startButton.addEventListener(\"click\", startCountdown);\n\n  function startCountdown(){\n    startButton.disabled = true;\n    datetimePicker.disabled = true;\n    countdownTimer = setInterval(updateTimer, 1000);\n    updateTimer(); \n\n  };"],"names":["datetimePicker","startButton","day","hour","minute","second","userSelectedDate","countdownTimer","options","selectedDates","selectedDate","iziToast","convertMs","ms","days","hours","minutes","seconds","addLeadingZero","value","updateTimer","remainingTime","startCountdown"],"mappings":"oFAKA,MAAMA,EAAiB,SAAS,cAAc,kBAAkB,EAC1DC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAM,SAAS,cAAc,iBAAiB,EAC9CC,EAAO,SAAS,cAAc,kBAAkB,EAChDC,EAAS,SAAS,cAAc,oBAAoB,EACpDC,EAAS,SAAS,cAAc,oBAAoB,EAE1D,IAAIC,EAAmB,KACnBC,EAAiB,KAGrB,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,MAAMC,EAAeD,EAAc,CAAC,EAEjCC,GAAgB,IAAI,MACnBT,EAAY,SAAW,GAEvBU,EAAS,MAAM,CACf,MAAO,QACP,QAAS,oCACrB,CAAa,IAEDL,EAAmBI,EACnBT,EAAY,SAAW,GAEnC,CACA,EACC,UAAU,mBAAoBO,CAAO,EAMtC,SAASI,EAAUC,EAAI,CAOnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAGD,SAASC,EAAeC,EAAM,CAC5B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAE,GAAG,CAEvC,CACE,SAASC,GAAc,CACrB,MAAMC,EAAgBf,EAAmB,IAAI,KAC7C,GAAIe,GAAiB,EAAG,CACtB,cAAcd,CAAc,EAC5BL,EAAI,YAAc,KAClBC,EAAK,YAAc,KACnBC,EAAO,YAAc,KACrBC,EAAO,YAAc,KAErBJ,EAAY,SAAW,GACvBD,EAAe,SAAW,GAC1BW,EAAS,QAAQ,CAAE,MAAO,YAAa,QAAS,0BAA0B,CAAE,EAC5E,MACD,CACH,KAAM,CAAE,KAAAG,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYL,EAAUS,CAAa,EACjEnB,EAAI,YAAcgB,EAAeJ,CAAI,EACrCX,EAAK,YAAce,EAAeH,CAAK,EACvCX,EAAO,YAAcc,EAAeF,CAAO,EAC3CX,EAAO,YAAca,EAAeD,CAAO,CAC7C,CAEEhB,EAAY,iBAAiB,QAASqB,CAAc,EAEpD,SAASA,GAAgB,CACvBrB,EAAY,SAAW,GACvBD,EAAe,SAAW,GAC1BO,EAAiB,YAAYa,EAAa,GAAI,EAC9CA,GAEJ"}